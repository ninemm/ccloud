<#include "../_inc/_layer_layout.html"/>

<#macro script_import> <script type="text/javascript"
	src="${CPATH}/static/plugins/bootstrap-treeview/js/bootstrap-treeview.js"></script>
<!-- <script src="${CPATH}/static/plugins/toastr/toastr.js"></script> -->
</#macro>

<#macro css_import>
<link rel="stylesheet"
	href="${CPATH}/static/plugins/bootstrap-treeview/css/bootstrap-treeview.css">
<!-- <link rel="stylesheet" href="${CPATH}/static/plugins/toastr/toastr.css"> -->
</#macro>

<#macro script> $(document).ready(function() { }); </#macro>

<@layout>
<div style="padding: 10px;">
	<div class="row">
		<div class="col-sm-12 ">
			<div class="row">
				<div class="form-group col-sm-12 validata-box">
					<label class="control-label col-sm-2">单号:</label>
					<div class="input-group col-md-4 col-sm-10">
	                 	<input class="form-control input-sm" type="text" name="transferBill.bill_sn" value="${(transferBill.transfer_bill_sn)!}"  disabled="disabled">
	               	</div>
				</div>
				<div class="form-group col-sm-12 validata-box">
					<label class="control-label col-sm-2">调出仓库:</label>
					<div class="input-group col-md-4 col-sm-10">
	                 	<input class="form-control input-sm" type="text" name="transferBill.bill_sn" value="${(transferBill.from_warehouse_name)!}"  disabled="disabled">
	               	</div>
					
				</div>
				<div class="form-group col-sm-12 validata-box">
					<label class="control-label col-sm-2">调入仓库:</label>
					<div class="input-group col-md-4 col-sm-10">
	                 	<input class="form-control input-sm" type="text" name="transferBill.bill_sn" value="${(transferBill.to_warehouse_name)!}"  disabled="disabled">
	               	</div>
					
				</div>
				<div class="form-group col-sm-12 validata-box">
					<label class="control-label col-sm-2">调入销售商:</label>
					<div class="input-group col-md-4 col-sm-10">
	                 	<input class="form-control input-sm" type="text" name="transferBill.bill_sn" value="${(transferBill.seller_name)!}"  disabled="disabled">
	               	</div>
					
				</div>
				<div class="form-group col-sm-12 validata-box">
					<label class="control-label col-sm-2">调拨人:</label>
					<div class="input-group col-md-4 col-sm-10">
	                 	<input class="form-control input-sm" type="text" name="transferBill.bill_sn" value="${(transferBill.realname)!}"  disabled="disabled">
	               	</div>
					
				</div>
				<table id="dataTable" class="table table-striped table-bordered" width="100%">
					<thead>
						<tr>
							<th class="col-sm-1 center" style="text-align: center;">序号</th>
							<th class="col-sm-2 center" style="text-align: center;">商品名称</th>
							<th class="col-sm-1 center" style="text-align: center;">规格</th>
							<th class="col-sm-1 center" style="text-align: center;">单位</th>
							<th class="col-sm-1 center" style="text-align: center;">库存数量</th>
							<th class="col-sm-1 center" style="text-align: center;">调拨数量</th>
						</tr>
					</thead>
					<tbody id="sProdBody">
						<tr class="hide-always hide">
							<td class="center text-center"><a
								class="btn btn-danger btn-xs removeTr" data-toggle="modal"
								data-target="#deleteBackProModal"><span
									class="glyphicon glyphicon-remove"></span></a></td>
							<td class="text-left"><input type="hidden" id="productId"
								name="transferBillDetailList[-1].product_id" disabled="true" />
								<input type="hidden" id="factIndex" name="factIndex" value="-1" />
								<select class="pro-slc2">
							</select></td>
							<td class="text-center"><span class="specification"
								id="specification"></span></td>
							<td class="text-center"><span class="big_unit" id="big_unit"></span>
							</td>
							<td class="text-center"><span class="balanceCount"
								id="balanceCount"></span></td>
							<td class="text-center"><input type="text" id="stock"
								class="stock" name="transferBillDetailList[-1].product_count"
								disabled="true" /></td>
						</tr>
						<#list (ilist)! as list>
						<tr id="tr${list_index+1}">
							<td class="center text-center"><a
								class="btn btn-danger btn-xs removeTr" data-toggle="modal"
								data-target="#deleteBackProModal" onclick="deleteTr(this)"><span
									class="glyphicon glyphicon-remove"></span></a></td>
							<#list (list.productInfos)! as plist>
							<td class="text-left"><input type="hidden" id="productId"
								name="transferBillDetailList[${list_index}].product_id"
								value="${list.sellerProductId}" /> <input type="text"
								id="goodsName" name="goodsName" value="${plist.name}"
								disabled="disabled" /> <input type="hidden" id="factIndex"
								name="factIndex" value="${list_index}" /></td>
							<td class="text-center"><input name="specification"
								id="specification" value="${plist.specificationValue!}"
								disabled="disabled"></input></td>
							<td class="text-center"><input name="big_unit" id="big_unit"
								value="${plist.bigUnit!}" disabled="disabled"></input></td>
							<td class="text-center"><input name="balanceCount"
								id="balanceCount" value="${plist.balanceCount!}"
								disabled="disabled"></input></td>
							</#list>
							<td class="text-center"><input type="text" id="stock"
								class="stock"
								name="transferBillDetailList[${list_index}].product_count"
								value="${list.productCount}" /></td>
						</tr>
						</#list>
					</tbody>
					<tfoot>
						<tr>
						</tr>
					</tfoot>
				</table>
			</div>
		</div>
		</@layout>