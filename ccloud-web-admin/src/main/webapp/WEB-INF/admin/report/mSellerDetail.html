<#include "../_inc/_layout.html"/>

<#macro script_import>

	<script src="${CPATH}/static/plugins/bootstrap-table/bootstrap-table.js"></script>
	<script src="${CPATH}/static/plugins/bootstrap-table/bootstrap-table-zh-CN.js"></script>
	<script src="${CPATH}/static/plugins/datetimepicker/bootstrap-datetimepicker.min.js"></script>
	<script src="${CPATH}/static/plugins/datetimepicker/bootstrap-datetimepicker.zh-CN.js"></script>
	<script src="${CPATH}/static/plugins/bootstrapvalidator/bootstrapValidator.js"></script>

</#macro>

<#macro css_import>

<link rel="stylesheet" href="${CPATH}/static/plugins/bootstrap-table/bootstrap-table.css">
<link rel="stylesheet" href="${CPATH}/static/plugins/datetimepicker/bootstrap-datetimepicker.min.css">
<link rel="stylesheet" href="${CPATH}/static/plugins/bootstrapvalidator/bootstrapValidator.css">

</#macro>

<#macro script>	
	$(function() {
		jQuery.mm.initDatetimepicker('form', '#startDate', 'startDate', 'yyyy-MM-dd', 2, 4, 2);
		jQuery.mm.initDatetimepicker('form', '#endDate', 'endDate', 'yyyy-MM-dd', 2, 4, 2);
	});
	
	function orderTime(){
		$('#post-search-input').val("so.create_date");
		var startDate= $('#startDate').val();
		var endDate= $('#endDate').val();
		window.location.href="${CPATH}/admin/report/mSellerDetail?startDate="+startDate+"&endDate="+endDate+"&k=so.create_date&c=${c!}&p=${p!}"
	};
	
	function prints(){
		$('#post-search-input').val("so.print_time");
		var startDate= $('#startDate').val();
		var endDate= $('#endDate').val();
		window.location.href="${CPATH}/admin/report/mSellerDetail?startDate="+startDate+"&endDate="+endDate+"&k=so.print_time&c=${c!}&p=${p!}"
	};
	
	function complete(){
		$('#post-search-input').val("sok.create_date");
		var startDate= $('#startDate').val();
		var endDate= $('#endDate').val();
		window.location.href="${CPATH}/admin/report/mSellerDetail?startDate="+startDate+"&endDate="+endDate+"&k=sok.create_date&c=${c!}&p=${p!}"
	};
	
	function derivation(){
		var startDate= $('#startDate').val();
		var endDate= $('#endDate').val();
		var k=$('#post-search-input').val();
		
	}
</#macro>
<@layout active_id=p child_active_id=c>

<section class="content-header">
	<h1>我部门的直营商详情</h1>
	<ol class="breadcrumb">
		<li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
       	<li><a href="#">报表查询</a></li>
       	<li class="active">我部门的直营商详情</li>
	</ol>
</section>
<!-- Main content -->
<section class="content">
	<form class="form-inline" id="form" >
		<div class="row content-row">
			<div class="form-group col-sm-12" style="float: right">
				<input id="post-search-input" class="form-control" type="hidden" value="${k!'so.create_date'}" name="k" >&nbsp;
				<input onclick="orderTime()" class="btn btn-sm btn-primary" type="button" value="已下单查询">
				<input onclick="prints()" class="btn btn-sm btn-primary" type="button" value="已打印查询">
				<input onclick="complete()" class="btn btn-sm btn-primary" type="button" value="已出库查询">
				<div class="form-group validata-box">
					<label class="control-label">开始时间:</label>
					<div class="form-group">
						<input id="startDate" class="form-control" value="${startDate!}" name="startDate" placeholder="开始日期" >&nbsp;
					</div>
				</div>
				<div class="form-group validata-box">
					<label class="control-label">结束时间:</label>
					<div class="form-group">
						<input id="endDate" class="form-control" value="${endDate!}" name="endDate" placeholder="结束日期" >&nbsp;
					</div>
				</div>
				<a onclick="derivation()" class="btn btn-sm btn-primary btn-flat" style="float: right">
					<i class="fa fa-download" ></i> 导出
				</a>
			</div>
		</div>
		<div class="box">
			<div class="box-body jp-common-pad">
				<table class="table table-striped">
					<thead>
						<tr>
							<#if watchHead??>
								<#list watchHead as bean>
										<th style="text-align:center">${bean}</th>
								</#list>
							 </#if>
						</tr>
					</thead>
					<tbody>
						<#if mSellerDetailReportList.size() gt 0>
							<#list mSellerDetailReportList as bean>
								<tr class="jp-onmouse">
									<#list bean as value>
										<td align=center>${value}</td>
									</#list>
								</tr>
							</#list>
							<#else>
								<tr class="jp-onmouse" >
									<td colspan="${watchHead?size}" align=center>
										数据为空
									</td>
								</tr>
						 </#if>
					</tbody>
				</table>
			</div>
		</div>
		<h2>赠品统计</h2>
		<div class="box">
			<div class="box-body jp-common-pad">
				<table class="table table-striped">
					<thead>
						<tr>
							<#if watchHead??>
								<#list watchHead as bean>
										<th style="text-align:center">${bean}</th>
								</#list>
							</#if>
						</tr>
					</thead>
					<tbody>
						<#if mSellerDetailGiftReportList.size() gt 0>
							<#list mSellerDetailGiftReportList as bean1>
								<tr class="jp-onmouse">
									<#list bean1 as value1>
										<td align=center>${value1}</td>
									</#list>
								</tr>
							</#list>
							<#else>
								<tr class="jp-onmouse" >
									<td colspan="${watchHead?size}" align=center>
										数据为空
									</td>
								</tr>
						 </#if>
					</tbody>
				</table>
			</div>
		</div>
	</form>
</section>

</@layout>